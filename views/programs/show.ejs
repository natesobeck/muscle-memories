<%- include('../partials/html-head') %>
<%- include('../partials/nav') %>

<main>
  <h1>Program Details</h1>
  <h3>Basic Overview:</h3>
  <table>
    <tr>
      <th>Program Name</th>
      <th>Split</th>
      <th>Days Per Week</th>
      <th>Added By</th>
      <th>Additional Note</th>
    </tr>
    <tr>
      <td><%= program.name %></td>
      <td><%= program.split %></td>
      <td><%= program.daysPerWeek %></td>
      <td><%= program.addedBy.name %></td>
      <td><%= program.note %></td>
    </tr>
  </table>
  <h3>Exercises:</h3>
    <div class="exercise-card">
      <table>
        <tr>
          <th>Name</th>
          <th>Sets</th>
          <th>Reps or Rep Range</th>
          <th>RPE/RIR</th>
          <th>Tempo</th>
        </tr>
        <% program.exercises.forEach(exercise => { %>
          <tr>
            <td><%= exercise.exercise.equipment %> <%= exercise.exercise.name %></td>
            <td><% exercise.sets %></td>
            <td><%= exercise.reps %></td>
            <td><%= exercise.rpe %></td>
            <td><%= exercise.tempo %></td>
          </tr>
        <% }) %>
      </table>
    </div>
  <h2>Add Exercises to the Program Below</h2>
  <form action="/programs/<%= program._id %>/exercises" method="POST">
    <label for="exercise-select">Pick an Exerise: </label>
    <select id="exercise-select" name="exercise">
      <% exercises.forEach(exercise => { %>
        <option value="<%= exercise._id %>"><%= exercise.equipment %> <%= exercise.name %></option>
      <% }) %>
    </select>
    <label for="sets-input">Sets: </label>
    <input type="number" min="1" max="10" id="sets-input" name="sets">
    <label for="reps-input">Reps or Rep Range: </label>
    <input type="text" id="reps-input" name="reps">
    <label for="rpe-input">RPE/RIR: </label>
    <input name="rpe" type="number" min="1" max="10" id="rpe-input">
    <label for="tempo-input">Tempo: </label>
    <input type="text" id="tempo-input" name="tempo">
    <button type="submit">Add Exercise</button>
  </form>
</main>

<%- include('../partials/footer') %>